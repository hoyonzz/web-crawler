---
<br>

# **실전 웹 크롤링과 자동화 (For 신호용)**
### **2권: 자동화 파이프라인 구축 - GitHub Actions와 Notion의 만남**

<br>

---
## **Chapter 2-1: Notion API 첫걸음**

### **Prologue: 데이터를 담을 '나만의 데이터베이스' 만들기**

신호용 님, 2권의 세계에 오신 것을 환영합니다! 1권에서 우리는 데이터를 수집하여 CSV 파일로 저장하는 데 성공했습니다. 하지만 CSV 파일은 내 컴퓨터에만 저장되어 있어 매번 파일을 열어봐야 하고, 데이터를 관리(정렬, 필터링)하기도 불편합니다.

이번 챕터에서는 클라우드 기반의 강력한 생산성 도구인 **Notion을 우리의 개인 데이터베이스로 활용**하는 방법을 배웁니다. **Notion API**를 통해, 우리가 파이썬 코드로 수집한 채용 공고 데이터를 Notion 페이지에 자동으로 착착 쌓이게 만들 것입니다. 이 과정을 통해, 우리는 언제 어디서든 스마트폰이나 PC로 수집된 데이터를 확인하고 관리할 수 있는 강력한 시스템의 첫걸음을 내딛게 됩니다.

---

### **1. 학습 목표 (Objectives)**

-   Notion API를 사용하기 위한 '통합(Integration)'을 생성하고 API 키를 발급받을 수 있다.
-   Notion에 데이터를 저장하기 위한 '데이터베이스' 페이지를 만들 수 있다.
-   데이터베이스 ID를 확인하고, 내 파이썬 코드에서 접근할 수 있도록 통합 권한을 부여할 수 있다.

---

### **2. 핵심 개념 (Core Concepts)**

#### **2.1 Notion API란?**

Notion API는 우리가 작성한 **프로그램 코드(Python 등)가 Notion과 직접 소통할 수 있도록** 열어주는 공식적인 창구(Interface)입니다. 이 API를 통해 우리는 다음과 같은 일을 할 수 있습니다.
-   새로운 페이지 생성하기
-   **데이터베이스에 새로운 항목(Item) 추가하기 (우리의 목표!)**
-   기존 페이지의 내용 읽기 및 수정하기

#### **2.2 API 사용을 위한 3가지 핵심 요소**

Notion API를 사용하려면, 마치 '열쇠'와 '주소'처럼 3가지 정보가 반드시 필요합니다.

1.  **통합 (Integration) & 시크릿 키 (Secret Key):**
    *   **'통합'**은 Notion에 "이제부터 내 프로그램이 너랑 소통할 거야"라고 알려주는 설정입니다.
    *   통합을 생성하면, **'내부 통합 시크릿'**이라는 매우 긴 문자열 키가 발급됩니다. 이것이 바로 우리 프로그램이 Notion에 말을 걸 때 사용하는 **'비밀 열쇠(API Key)'**입니다. 이 키는 절대로 외부에 노출되면 안 됩니다.
2.  **데이터베이스 (Database):**
    *   우리가 수집한 채용 공고를 저장할 **'표(Table)'**입니다. Notion에서 '데이터베이스 - 전체 페이지'를 새로 만들어 사용합니다. 각 열(Column)은 '회사명', '직무', '링크' 등의 속성(Property)이 됩니다.
3.  **데이터베이스 ID (Database ID):**
    *   Notion에 생성된 모든 데이터베이스는 각자 고유한 ID를 가지고 있습니다. 우리 프로그램이 수많은 Notion 페이지 중에서 정확히 **'어떤 데이터베이스'**에 데이터를 넣을지 알려주기 위한 **'주소'**와 같은 역할을 합니다.

---

### **[Mission 6] Notion 데이터베이스 준비하기**

이번 미션은 코딩이 아닌, Notion 페이지에서 직접 설정하는 과제입니다. 아래 단계를 차근차근 따라 하며, 우리 데이터를 담을 그릇을 준비해봅시다.

> **Step 1: Notion 통합 생성 및 API 키 발급받기**
> 1.  웹 브라우저에서 [Notion Developers](https://www.notion.so/my-integrations) 페이지로 이동합니다.
> 2.  **'+ 새 통합 만들기'** 버튼을 클릭합니다.
> 3.  **이름**을 `채용 정보 크롤러` 와 같이 입력하고, 연결된 워크스페이스를 선택한 뒤 **'제출'**을 클릭합니다.
> 4.  생성이 완료되면, '시크릿' 섹션에서 **'내부 통합 시크릿'**을 **'표시'**하고, `secret_...`으로 시작하는 긴 키를 복사하여 **안전한 곳(예: `.env` 파일)**에 보관해두세요.
>
> **Step 2: Notion에 데이터베이스 페이지 생성하기**
> 1.  Notion 워크스페이스에서 **'+ 페이지 추가'**를 클릭합니다.
> 2.  제목을 **'채용 공고 아카이브'** 와 같이 입력합니다.
> 3.  본문에서 `/데이터베이스`를 입력하고 **'데이터베이스 - 전체 페이지'**를 선택합니다.
> 4.  기본으로 생성된 '이름', '태그' 속성 외에, 아래와 같이 속성(열)을 추가하고 타입을 맞춰주세요.
>     *   **직무** (속성 유형: `제목` - 기본 '이름' 속성을 이걸로 변경)
>     *   **회사명** (속성 유형: `텍스트`)
>     *   **링크** (속성 유형: `URL`)
>     *   **수집일** (속성 유형: `날짜`)
>
> **Step 3: 데이터베이스에 통합 권한 부여하기**
> 1.  방금 만든 '채용 공고 아카이브' 데이터베이스 페이지의 오른쪽 상단 **'...' 메뉴**를 클릭합니다.
> 2.  **'+ 연결 추가'**를 클릭합니다.
> 3.  검색창에 Step 1에서 만든 통합 이름(`채용 정보 크롤러`)을 검색하고, 나타난 항목을 클릭하여 선택한 뒤 **'연결'** 버튼을 누릅니다. (이제 우리 프로그램이 이 페이지에 글을 쓸 수 있게 되었습니다.)
>
> **Step 4: 데이터베이스 ID 확인하기**
> 1.  데이터베이스 페이지의 URL을 복사합니다. URL은 아래와 같은 형식일 것입니다.
>     `https://www.notion.so/YOUR_WORKSPACE/`**`[DATABASE_ID]`**`?v=...`
> 2.  여기서 `YOUR_WORKSPACE/` 와 `?v=` 사이에 있는 **길고 복잡한 문자열이 바로 데이터베이스 ID**입니다. 이 ID를 복사하여 API 키와 함께 **안전한 곳(`.env` 파일)**에 보관해두세요.