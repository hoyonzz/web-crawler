<br>

# **Troubleshooting Log: GitHub Actions 자동화**

### **문제 1: 워크플로우 실행 실패 (`actions/upload-artifact@v3` Deprecation)**

*   **증상:** Python 코드가 실행되기도 전에 GitHub Actions 워크플로우가 `Error: This request has been automatically failed because it uses a deprecated version...` 메시지와 함께 실패함.
*   **원인 분석:** GitHub 측에서 `actions/upload-artifact` 액션의 `v3` 버전에 대한 지원을 중단했기 때문에 발생한 문제. 또한, 아티팩트 경로 설정(`path`)에 오타(`web-crower` -> `web-crowler`)가 있었음.
*   **해결책:** `crawler.yml` 파일을 수정하여 액션의 버전을 `v3`에서 `v4`로 변경하고, 경로의 오타를 바로잡아 워크플로우가 정상적으로 실행되도록 조치함.

    ```yaml
    # 수정 전
    # uses: actions/upload-artifact@v3
    # path: ./web-crower/...

    # 수정 후
    uses: actions/upload-artifact@v4
    path: web-crowler/...
    ```

### **문제 2: 크롤러 접근 차단 (`403 Forbidden Error`)**

*   **증상:** 워크플로우 실행은 성공했으나, `main.py` 스크립트가 `NoSuchElementException`을 발생시킴. 아티팩트로 저장된 스크린샷 확인 결과, 원티드 페이지가 아닌 CloudFront의 `403 ERROR`, `Request blocked` 페이지가 나타남.
*   **원인 분석:** 로컬 환경과 달리, GitHub Actions 서버에서 실행되는 크롤러는 일반적인 사용자로 인식되지 않음. 서버의 보안 솔루션(CloudFront)이 자동화된 봇으로 탐지하고 접근을 차단함.
*   **해결책:** Selenium WebDriver의 Chrome 옵션에 **`User-Agent`** 헤더를 추가하여, 자동화된 스크립트가 아닌 일반적인 웹 브라우저인 것처럼 위장함. 이 조치로 CloudFront의 차단을 우회하고 정상적으로 페이지에 접근하는 데 성공함.

    ```python
    # main.py에 추가된 코드
    user_agent = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36"
    chrome_options.add_argument(f"user-agent={user_agent}")
    ```

---